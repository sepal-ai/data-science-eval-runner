{
  "problem_set": {
    "properties": {
      "owner": {
        "type": "string",
        "description": "The owner/creator of this problem set (e.g., 'feingold')"
      },
      "name": {
        "type": "string",
        "description": "Name of the problem set (e.g., 'math-problems')",
        "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
      },
      "description": {
        "type": "string",
        "description": "Detailed description of what this problem set contains and tests (e.g., 'Basic math problems including factorial and GCD calculations')"
      },
      "required_resources": {
        "type": "string",
        "enum": [
          "2vcpu+6gib",
          "4vcpu+16gib",
          "6vcpu+32gib"
        ],
        "description": "Optional amount of memory and vCPUs to run the problems with. Defaults to 2vcpu+6gib."
      },
      "version": {
        "type": "string",
        "description": "Version of this problem set for tracking updates (e.g., '1.0.0')"
      },
      "created_at": {
        "type": "string",
        "format": "date-time",
        "description": "ISO 8601 timestamp when this problem set was created"
      },
      "metadata": {
        "type": "object",
        "description": "Optional metadata for the entire problem set (e.g., categories, tags, difficulty)",
        "additionalProperties": true
      },
      "problems": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "image": {
              "type": "string",
              "description": "Docker image containing the environment for this problem (e.g., '377799100787.dkr.ecr.us-east-1.amazonaws.com/sandboxing-container-server@sha256:a1b2c3d4...')"
            },
            "startup_command": {
              "type": "string",
              "description": "Command to start the MCP server in the container (e.g., 'python -u /mcp_server/math_in_python.py')"
            },
            "id": {
              "type": "string",
              "description": "Unique identifier for this specific problem (e.g., 'factorial', 'gcd')",
              "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
            },
            "required_tools": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of which of our pre-baked tools are required for this problem"
            },
            "scratchpad": {
              "type": "string",
              "enum": [
                "disallowed",
                "allowed",
                "required",
                "prohibited"
              ],
              "description": "Whether scratchpad usage is disallowed, allowed, required, or prohibited"
            },
            "enable_anthropic_api": {
              "type": "boolean",
              "default": false,
              "description": "Enable usage of the Anthropic API for this problem, for things like grader models."
            },
            "enabled_package_managers": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["npm", "cargo", "pip"]
              },
              "default": [],
              "description": "List of package managers enabled for this problem. Default is empty list."
            },
            "metadata": {
              "type": "object",
              "description": "Arbitrary labeling/metadata fields like difficulty level, task type, or task size",
              "additionalProperties": true
            }
          },
          "required": [
            "image",
            "startup_command",
            "id",
            "required_tools",
            "scratchpad"
          ]
        }
      }
    },
    "required": [
      "owner",
      "name",
      "description",
      "problems"
    ]
  }
}